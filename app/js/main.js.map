{"version":3,"file":"main.js","mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E,OAAO;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,SAAS;AACnF;AACA;AACA,yDAAyD,kBAAkB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;UCxLA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACNA;AACA","sources":["webpack://gulp-builder/./src/js/_components.js","webpack://gulp-builder/./src/js/_functions.js","webpack://gulp-builder/./src/js/_vars.js","webpack://gulp-builder/./src/js/components/_headerScroll.js","webpack://gulp-builder/./src/js/functions/burger.js","webpack://gulp-builder/./node_modules/graph-modal/src/graph-modal.js","webpack://gulp-builder/webpack/bootstrap","webpack://gulp-builder/webpack/runtime/compat get default export","webpack://gulp-builder/webpack/runtime/define property getters","webpack://gulp-builder/webpack/runtime/hasOwnProperty shorthand","webpack://gulp-builder/webpack/runtime/make namespace object","webpack://gulp-builder/./src/js/main.js"],"sourcesContent":["import './components/_headerScroll';\n","import {\n  burger\n} from './functions/burger';\n\n// Реализация модального окна\nimport GraphModal from 'graph-modal';\nconst modal = new GraphModal();\n\n// Подключение плавной прокрутки к якорям\n// import SmoothScroll from 'smooth-scroll';\n// const scroll = new SmoothScroll('a[href*=\"#\"]');\n\n// Подключение событий свайпа на мобильных\n// import 'swiped-events';\n// document.addEventListener('swiped', function(e) {\n//   console.log(e.target);\n//   console.log(e.detail);\n//   console.log(e.detail.dir);\n// });\n","export default {\n  windowEl: window,\n  documentEl: document,\n  htmlEl: document.documentElement,\n  bodyEl: document.body,\n};\n","(function () {\n\n  var doc = document.documentElement;\n  var w = window;\n\n  var prevScroll = w.scrollY || doc.scrollTop;\n  var curScroll;\n  var direction = 0;\n  var prevDirection = 0;\n\n  var header = document.querySelector('.header');\n\n  var checkScroll = function () {\n\n    curScroll = w.scrollY || doc.scrollTop;\n    if (curScroll > prevScroll) {\n      //scrolled up\n      direction = 2;\n    } else if (curScroll < prevScroll) {\n      //scrolled down\n      direction = 1;\n    }\n\n    if (direction !== prevDirection) {\n      toggleHeader(direction, curScroll);\n    }\n\n    prevScroll = curScroll;\n  };\n\n  var toggleHeader = function (direction, curScroll) {\n    if (direction === 2 && curScroll > 52) {\n\n      //replace 52 with the height of your header in px\n\n      header.classList.add('header--scroll');\n      prevDirection = direction;\n    } else if (direction === 1) {\n      header.classList.remove('header--scroll');\n      prevDirection = direction;\n    }\n  };\n\n  window.addEventListener('scroll', checkScroll);\n\n})();\n\n\nwindow.addEventListener('scroll', () => {\n  if (window.pageYOffset > 200) {\n    document.querySelector('.header').style.backgroundColor = \"#fff\";\n  } else if (window.pageYOffset === 0) {\n    document.querySelector('.header').style.backgroundColor = \"transparent\";\n  }\n})\n","(function () {\n  const burger = document?.querySelector('[data-burger]');\n  const menu = document?.querySelector('[data-menu]');\n  const menuItems = document?.querySelectorAll('[data-menu-item]');\n  const overlay = document?.querySelector('[data-menu-overlay]');\n\n  burger?.addEventListener('click', (e) => {\n    burger?.classList.toggle('burger-active');\n    menu?.classList.toggle('menu--active');\n\n    if (menu?.classList.contains('menu--active')) {\n      burger?.setAttribute('aria-expanded', 'true');\n      burger?.setAttribute('aria-label', 'Close menu');\n    } else {\n      burger?.setAttribute('aria-expanded', 'false');\n      burger?.setAttribute('aria-label', 'Open menu');\n    }\n  });\n\n  overlay?.addEventListener('click', () => {\n    burger?.setAttribute('aria-expanded', 'false');\n    burger?.setAttribute('aria-label', 'Open menu');\n    burger.classList.remove('burger-active');\n    menu.classList.remove('menu--active');\n  });\n\n  menuItems?.forEach(el => {\n    el.addEventListener('click', () => {\n      burger?.setAttribute('aria-expanded', 'false');\n      burger?.setAttribute('aria-label', 'Open menu');\n      burger.classList.remove('burger-active');\n      menu.classList.remove('menu--active');\n    });\n  });\n})();\n","export default class GraphModal {\r\n  constructor(options) {\r\n    let defaultOptions = {\r\n      isOpen: () => {},\r\n      isClose: () => {},\r\n    }\r\n    this.options = Object.assign(defaultOptions, options);\r\n    this.modal = document.querySelector('.graph-modal');\r\n    this.speed = 300;\r\n    this.animation = 'fade';\r\n    this._reOpen = false;\r\n    this._nextContainer = false;\r\n    this.modalContainer = false;\r\n    this.isOpen = false;\r\n    this.previousActiveElement = false;\r\n    this._focusElements = [\r\n      'a[href]',\r\n      'input',\r\n      'select',\r\n      'textarea',\r\n      'button',\r\n      'iframe',\r\n      '[contenteditable]',\r\n      '[tabindex]:not([tabindex^=\"-\"])'\r\n    ];\r\n    this._fixBlocks = document.querySelectorAll('.fix-block');\r\n    this.events();\r\n  }\r\n\r\n  events() {\r\n    if (this.modal) {\r\n      document.addEventListener('click', function (e) {\r\n        const clickedElement = e.target.closest(`[data-graph-path]`);\r\n        if (clickedElement) {\r\n          let target = clickedElement.dataset.graphPath;\r\n          let animation = clickedElement.dataset.graphAnimation;\r\n          let speed = clickedElement.dataset.graphSpeed;\r\n          this.animation = animation ? animation : 'fade';\r\n          this.speed = speed ? parseInt(speed) : 300;\r\n          this._nextContainer = document.querySelector(`[data-graph-target=\"${target}\"]`);\r\n          this.open();\r\n          return;\r\n        }\r\n\r\n        if (e.target.closest('.graph-modal__close')) {\r\n          this.close();\r\n          return;\r\n        }\r\n      }.bind(this));\r\n\r\n      window.addEventListener('keydown', function (e) {\r\n        if (e.keyCode == 27 && this.isOpen) {\r\n          this.close();\r\n        }\r\n\r\n        if (e.which == 9 && this.isOpen) {\r\n          this.focusCatch(e);\r\n          return;\r\n        }\r\n      }.bind(this));\r\n\r\n      document.addEventListener('click', function (e) {\r\n        if (e.target.classList.contains('graph-modal') && e.target.classList.contains(\"is-open\")) {\r\n          this.close();\r\n        }\r\n      }.bind(this));\r\n    }\r\n\r\n  }\r\n\r\n  open(selector) {\r\n    this.previousActiveElement = document.activeElement;\r\n\r\n    if (this.isOpen) {\r\n      this.reOpen = true;\r\n      this.close();\r\n      return;\r\n    }\r\n\r\n    this.modalContainer = this._nextContainer;\r\n\r\n    if (selector) {\r\n      this.modalContainer = document.querySelector(`[data-graph-target=\"${selector}\"]`);\r\n    }\r\n\r\n    this.modal.style.setProperty('--transition-time', `${this.speed / 1000}s`);\r\n    this.modal.classList.add('is-open');\r\n\r\n    document.body.style.scrollBehavior = 'auto';\r\n    document.documentElement.style.scrollBehavior = 'auto';\r\n\r\n    this.disableScroll();\r\n\r\n    this.modalContainer.classList.add('graph-modal-open');\r\n    this.modalContainer.classList.add(this.animation);\r\n\r\n    setTimeout(() => {\r\n      this.options.isOpen(this);\r\n      this.modalContainer.classList.add('animate-open');\r\n      this.isOpen = true;\r\n      this.focusTrap();\r\n    }, this.speed);\r\n  }\r\n\r\n  close() {\r\n    if (this.modalContainer) {\r\n      this.modalContainer.classList.remove('animate-open');\r\n      this.modalContainer.classList.remove(this.animation);\r\n      this.modal.classList.remove('is-open');\r\n      this.modalContainer.classList.remove('graph-modal-open');\r\n\r\n      this.enableScroll();\r\n\r\n      document.body.style.scrollBehavior = 'auto';\r\n      document.documentElement.style.scrollBehavior = 'auto';\r\n\r\n      this.options.isClose(this);\r\n      this.isOpen = false;\r\n      this.focusTrap();\r\n\r\n      if (this.reOpen) {\r\n        this.reOpen = false;\r\n        this.open();\r\n      }\r\n    }\r\n  }\r\n\r\n  focusCatch(e) {\r\n    const nodes = this.modalContainer.querySelectorAll(this._focusElements);\r\n    const nodesArray = Array.prototype.slice.call(nodes);\r\n    const focusedItemIndex = nodesArray.indexOf(document.activeElement)\r\n    if (e.shiftKey && focusedItemIndex === 0) {\r\n      nodesArray[nodesArray.length - 1].focus();\r\n      e.preventDefault();\r\n    }\r\n    if (!e.shiftKey && focusedItemIndex === nodesArray.length - 1) {\r\n      nodesArray[0].focus();\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  focusTrap() {\r\n    const nodes = this.modalContainer.querySelectorAll(this._focusElements);\r\n    if (this.isOpen) {\r\n      if (nodes.length) nodes[0].focus();\r\n    } else {\r\n      this.previousActiveElement.focus();\r\n    }\r\n  }\r\n\r\n  disableScroll() {\r\n    let pagePosition = window.scrollY;\r\n    this.lockPadding();\r\n    document.body.classList.add('disable-scroll');\r\n    document.body.dataset.position = pagePosition;\r\n    document.body.style.top = -pagePosition + 'px';\r\n  }\r\n\r\n  enableScroll() {\r\n    let pagePosition = parseInt(document.body.dataset.position, 10);\r\n    this.unlockPadding();\r\n    document.body.style.top = 'auto';\r\n    document.body.classList.remove('disable-scroll');\r\n    window.scroll({\r\n      top: pagePosition,\r\n      left: 0\r\n    });\r\n    document.body.removeAttribute('data-position');\r\n  }\r\n\r\n  lockPadding() {\r\n    let paddingOffset = window.innerWidth - document.body.offsetWidth + 'px';\r\n    this._fixBlocks.forEach((el) => {\r\n      el.style.paddingRight = paddingOffset;\r\n    });\r\n    document.body.style.paddingRight = paddingOffset;\r\n  }\r\n\r\n  unlockPadding() {\r\n    this._fixBlocks.forEach((el) => {\r\n      el.style.paddingRight = '0px';\r\n    });\r\n    document.body.style.paddingRight = '0px';\r\n  }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import vars from './_vars';\nimport './_functions';\nimport './_components';\n"],"names":["burger","GraphModal","modal","windowEl","window","documentEl","document","htmlEl","documentElement","bodyEl","body","doc","w","prevScroll","scrollY","scrollTop","curScroll","direction","prevDirection","header","querySelector","checkScroll","toggleHeader","classList","add","remove","addEventListener","pageYOffset","style","backgroundColor","menu","menuItems","querySelectorAll","overlay","e","toggle","contains","setAttribute","forEach","el","vars"],"sourceRoot":""}